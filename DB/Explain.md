# Explain
**EXPLAIN** - это команда в PostgreSQL, которая позволяет получить подробную информацию о плане выполнения запроса, <br>
выбранном оптимизатором базы данных. <br>
План выполнения запроса - это набор операций, которые оптимизатор базы данных выбирает для выполнения запроса, <br>
включая такие операции, как сканирование таблиц, соединение таблиц, сортировка и фильтрация данных.<br>

Команда **EXPLAIN** возвращает информацию о плане выполнения запроса в виде таблицы, которая содержит следующие столбцы:

> query: текст запроса
> 
> type: тип операции (например, Seq Scan, Index Scan, Hash Join, Nested Loop, Sort, Aggregate, Limit)
> 
> width: оценка ширины вывода операции (в байтах)
> 
> target: цель операции (например, таблица, индекс, подзапрос)
> 
> actual rows: фактическое количество обработанных строк
> 
> actual loops: фактическое количество итераций операции
> 
> planned rows: оценка количества строк, которые должны быть обработаны операцией
> 
> planned width: оценка ширины вывода операции (в байтах)
> 
> startup cost: оценка затрат на начальную инициализацию операции
> 
> total cost: оценка затрат на выполнение операции
> 
> rows: оценка количества строк, которые будут возвращены операцией
> 
> loops: оценка количества итераций операции
> 
> shared hits: количество блоков, прочитанных из shared buffer cache
> 
> local hits: количество блоков, прочитанных из local buffer cache
> 
> shared read: количество блоков, прочитанных с диска
> 
> shared dirtied: количество блоков, записанных на диск
> 
> local write: количество блоков, записанных в local buffer cache
> 
> temp read: количество блоков, прочитанных из temporary buffer cache
> 
> temp write: количество блоков, записанных в temporary buffer cache

Команда **EXPLAIN** может быть использована для оптимизации запросов и устранения бутылок производительности. <br>
Она позволяет видеть, какие операции выполняются оптимизатором базы данных, и какие из них могут быть оптимизированы.<br> 
Например, если в плане выполнения запроса видно, что оптимизатор использует полное сканирование таблицы (Seq Scan), <br>
вместо использования индекса (Index Scan), можно создать индекс для улучшения производительности запроса.<br>

Команда **EXPLAIN ANALYZE** возвращает информацию о фактическом выполнении запроса, <br>
включая фактическое количество обработанных строк и время выполнения операций. <br>
Эта команда может быть использована для более точной оценки производительности запроса и устранения бутылок производительности.<br>

Команда **EXPLAIN VERBOSE** возвращает более подробную информацию о плане выполнения запроса, <br>
включая информацию о фильтрах, сортировке и группировке данных. <br>
Эта команда может быть использована для более детального анализа плана выполнения запроса и оптимизации его производительности.<br>

Команда **EXPLAIN BUFFERS** возвращает информацию о количестве блоков, <br>
прочитанных и записанных в **shared buffer cache** и **local buffer cache.** <br>
Эта команда может быть использована для анализа производительности кэширования базы данных и оптимизации его параметров.<br>

Команда **EXPLAIN (ANALYZE, BUFFERS, VERBOSE)** позволяет комбинировать несколько опций команды **EXPLAIN**, <br>
чтобы получить более полную информацию о плане выполнения запроса и его производительности.<br>
